@model CreateCategoryDto
@using FinanceManagement.Domain.Enums
@{
    ViewData["Title"] = "Yeni Kategori OluÅŸtur";
}

<div class="card">
    <div class="card-header">
        <h3 class="card-title">
            <i class="ki-outline ki-category fs-2 text-primary me-2"></i>
            Yeni Kategori OluÅŸtur
        </h3>
    </div>
    
    <form asp-action="Create" method="post" class="form">
        @Html.AntiForgeryToken()
        
        <div class="card-body">
            <div asp-validation-summary="ModelOnly" class="alert alert-danger" role="alert"></div>
            
            <!-- Category Name -->
            <div class="row mb-6">
                <label class="col-lg-3 col-form-label required fw-semibold fs-6">Kategori AdÄ±</label>
                <div class="col-lg-9">
                    <input asp-for="Name" class="form-control form-control-lg form-control-solid" placeholder="Ã–rn: MaaÅŸ, Market, UlaÅŸÄ±m" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </div>
            
            <!-- Transaction Type -->
            <div class="row mb-6">
                <label class="col-lg-3 col-form-label required fw-semibold fs-6">Ä°ÅŸlem Tipi</label>
                <div class="col-lg-9">
                    <select asp-for="Type" class="form-select form-select-lg form-select-solid">
                        <option value="">SeÃ§iniz...</option>
                        <option value="@((int)TransactionType.Income)">Gelir</option>
                        <option value="@((int)TransactionType.Expense)">Gider</option>
                    </select>
                    <span asp-validation-for="Type" class="text-danger"></span>
                </div>
            </div>
            
            <!-- Color -->
            <div class="row mb-6">
                <label class="col-lg-3 col-form-label required fw-semibold fs-6">Renk</label>
                <div class="col-lg-9">
                    <div class="d-flex align-items-center gap-3">
                        <input asp-for="Color" type="color" class="form-control form-control-color w-100px" value="#000000" />
                        <input asp-for="Color" type="text" class="form-control form-control-lg form-control-solid" placeholder="#000000" />
                    </div>
                    <span asp-validation-for="Color" class="text-danger"></span>
                    <div class="form-text">Kategori iÃ§in bir renk seÃ§in</div>
                </div>
            </div>
            
            <!-- Icon -->
            <div class="row mb-6">
                <label class="col-lg-3 col-form-label fw-semibold fs-6">Ä°kon</label>
                <div class="col-lg-9">
                    <select asp-for="Icon" class="form-select form-select-lg form-select-solid">
                        <option value="">VarsayÄ±lan (Kategori)</option>
                        <option value="ki-dollar">ğŸ’° Para</option>
                        <option value="ki-shop">ğŸª AlÄ±ÅŸveriÅŸ</option>
                        <option value="ki-home-2">ğŸ  Ev</option>
                        <option value="ki-car">ğŸš— UlaÅŸÄ±m</option>
                        <option value="ki-burger-menu">ğŸ” Yemek</option>
                        <option value="ki-heart">â¤ï¸ SaÄŸlÄ±k</option>
                        <option value="ki-book">ğŸ“š EÄŸitim</option>
                        <option value="ki-gift">ğŸ Hediye</option>
                        <option value="ki-coffee">â˜• EÄŸlence</option>
                        <option value="ki-bill">ğŸ“„ Fatura</option>
                        <option value="ki-chart-simple">ğŸ“Š YatÄ±rÄ±m</option>
                        <option value="ki-wallet">ğŸ‘› CÃ¼zdan</option>
                    </select>
                    <span asp-validation-for="Icon" class="text-danger"></span>
                </div>
            </div>
            
            <!-- Description -->
            <div class="row mb-6">
                <label class="col-lg-3 col-form-label fw-semibold fs-6">AÃ§Ä±klama</label>
                <div class="col-lg-9">
                    <textarea asp-for="Description" class="form-control form-control-lg form-control-solid" rows="3" placeholder="Kategori hakkÄ±nda aÃ§Ä±klama (opsiyonel)"></textarea>
                    <span asp-validation-for="Description" class="text-danger"></span>
                </div>
            </div>
        </div>
        
        <div class="card-footer d-flex justify-content-end py-6 px-9">
            <a href="/admin/categories" class="btn btn-light btn-active-light-primary me-2">
                <i class="ki-outline ki-cross fs-2"></i>
                Ä°ptal
            </a>
            <button type="submit" class="btn btn-primary">
                <i class="ki-outline ki-check fs-2"></i>
                Kaydet
            </button>
        </div>
    </form>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script>
        // Sync color inputs
        const colorPicker = document.querySelector('input[type="color"]');
        const colorText = document.querySelector('input[type="text"][name="Color"]');
        
        colorPicker.addEventListener('input', function() {
            colorText.value = this.value;
        });
        
        colorText.addEventListener('input', function() {
            if (/^#[0-9A-F]{6}$/i.test(this.value)) {
                colorPicker.value = this.value;
            }
        });
    </script>
}
